# Installation and Setup Guide

This guide provides detailed instructions for setting up the Surakshit AI vulnerability scanning system with all required dependencies and tools.

## Prerequisites

- Node.js (v14 or higher)
- npm (v6 or higher)
- Git
- Java Runtime Environment (JRE) 8+ (for OWASP ZAP)
- Python 3.6+ (for Semgrep)

## Installation Steps

### 1. Clone the Repository

```bash
git clone https://github.com/your-username/surakshit-ai.git
cd surakshit-ai
```

### 2. Install Backend Dependencies

```bash
cd gen-ai-vulnerability-remediation/backend
npm install
```

### 3. Install Frontend Dependencies

```bash
cd ../frontend
npm install
```

### 4. Install OWASP ZAP

OWASP ZAP is used for dynamic web application scanning.

#### Linux

```bash
# Download ZAP
wget https://github.com/zaproxy/zaproxy/releases/download/v2.12.0/ZAP_2.12.0_Linux.tar.gz

# Extract
tar -xvf ZAP_2.12.0_Linux.tar.gz

# Move to a suitable location
sudo mv ZAP_2.12.0 /opt/zaproxy

# Create a symbolic link
sudo ln -s /opt/zaproxy/zap.sh /usr/local/bin/zap
```

#### macOS

```bash
# Using Homebrew
brew install --cask owasp-zap
```

#### Windows

1. Download the installer from [OWASP ZAP Releases](https://github.com/zaproxy/zaproxy/releases/download/v2.12.0/ZAP_2.12.0_Windows.exe)
2. Run the installer and follow the instructions

### 5. Install Semgrep

Semgrep is used for static code analysis.

```bash
# Using pip
pip install semgrep

# Verify installation
semgrep --version
```

### 6. Install Snyk (Optional)

Snyk is used for dependency vulnerability scanning.

```bash
# Using npm
npm install -g snyk

# Authenticate with Snyk
snyk auth
```

### 7. Configure Environment Variables

Create a `.env` file in the backend directory by copying the example:

```bash
cd ../backend
cp config/config.env.example config/config.env
```

Edit the `config.env` file with your configuration:

```
# ZAP API Configuration
ZAP_API_KEY=your_zap_api_key
ZAP_API_URL=http://localhost:8080
USE_REAL_SCAN=true

# GitHub API Configuration (for GitHub integration)
GITHUB_TOKEN=your_github_personal_access_token

# Static Analysis Tools Configuration
UPLOAD_DIR=./uploads
TEMP_DIR=./temp
SEMGREP_ENABLED=true
SNYK_ENABLED=true
SNYK_TOKEN=your_snyk_token
```

### 8. Start OWASP ZAP in Daemon Mode

Start ZAP in daemon mode to enable API access:

```bash
# Linux/macOS
zap -daemon -host 0.0.0.0 -port 8080 -config api.key=your_zap_api_key

# Windows
"C:\Program Files\OWASP\Zed Attack Proxy\zap.bat" -daemon -host 0.0.0.0 -port 8080 -config api.key=your_zap_api_key
```

### 9. Start the Application

```bash
# Start the backend
cd ../backend
npm run dev

# In a new terminal, start the frontend
cd ../frontend
npm start
```

The application should now be running at:
- Frontend: http://localhost:3000
- Backend: http://localhost:5000

## Troubleshooting

### ZAP Connection Issues

If you encounter issues connecting to ZAP:

1. Ensure ZAP is running in daemon mode
2. Check that the ZAP API URL and key in your config.env match your ZAP configuration
3. Verify no firewall is blocking the connection

### Semgrep or Snyk Issues

If static analysis tools are not working:

1. Verify they are installed correctly and available in your PATH
2. Check that the SEMGREP_ENABLED and SNYK_ENABLED flags are set to true in config.env
3. For Snyk, ensure you have authenticated with a valid token

## Additional Configuration

### GitHub Integration

To enable GitHub repository scanning:

1. Create a GitHub personal access token with `repo` scope
2. Add the token to your config.env file as GITHUB_TOKEN

### Custom Scan Profiles

You can customize scan profiles in `backend/config/scanProfiles.js` to tailor scanning behavior for different project types.